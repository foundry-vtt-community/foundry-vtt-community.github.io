---
---
# SD 13 Localization
Supporting localization in your new system is critical to allow the maximum number of GMs and players to use your system. Localization provides others with the ability to translate your work into their language. It is easier to build into a system from the start when compared to coming back and adding it. Foundry uses the browser's language settings to determine which localization to use when displaying text. 

## What do I localize?
Every string that you display to a user should be localizable. A general rule is to allow localization of any strings that you display in your system. You don't need to localize text that the GM or players enter in Foundry. Typical areas of localization are:
Headings 
Body text
Form labels
Button labels
Dialog box titles
Error messages
## Adding Languages to system.json
Adding the following code to your system.json file tells Foundry that there is an English language file in the folder lang called en.json. 
```
"languages": [
    {
     "lang": "en",
      "name": "English",
      "path": "lang/en.json"
    }
  ]
```
The lang variable is the two-letter [ISO 639-1 code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) for the language that the path file is supporting.  
Let's tell Foundry about a Spanish language file along with our English language file. Add the following object code to the languages array in your system.json file. 
```
{
  "lang":"es",
  "name":"Spanish",
  "path":"lang/es.json"
}
```
## Language JSON file
The language file is a simple single-level JSON object. Each string has a variable name and the string that Foundry will display when you tell it to translate the variable. In the example en.json file below, we have the variable MYSYSTEM.ActorName which has the value Name in English
```
{
  "MYSYSTEM.ActorName": "Actor's Name"
}
```
##HTML localization using Handlebars
Foundry uses a Handlebar `{{localize "variable.name"}}` to translate text in HTML files. Let's replace the placeholder for the actor's name in the actor-sheet.html file with a localization. In actor-sheet.html replace `placeholder="name"` with `placeholder="{{localize "MYSYSTEM.ActorName"}}. Your code should look like:
```
<h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="{{localize "MYSYSTEM.ActorName"}}"/></h1>
```
When you create a new character, you will not see Actor's Name in the Name field instead of Name. 

## JavaScript localization
Foundry also provides a localize function as part of the game object `game.i18n.localize()`. Localize takes one parameter the stringID that you are localizing.  

### Using variables in JavaScript localizations
Sometimes you want to change a string of text dynamically. Foundry provides the `game.i18n.format()` function to perform this task. The format function takes two parameters stringId and data. StringId is the string Foundry will lookup and replaces in the language file. Data is an object of variable names with the text that you want to replace in the localized string. In the language file, you denote the variable to be replaced with single curly brackets `{}`. For example, adding the variable itemType you would add the text `{itemType}` to your string in the language file.
Let's add a string with a variable to our en.json file and replace the constant name in acto-sheet.js's _onItemCreate function with a localized string. Add a variable named MYSYSTEM.NewItem with a string value or "New {itemType}".
```
{
  "MYSYSTEM.ActorName": "Actor's Name",
  "MYSYSTEM.NewItem": "New {itemType}"
}
```
In actor-sheet.js change the line:
```
const name = \`New ${type.capitalize()}\`;
```
with the `game.i18n.format()` function and the MYSYSTEM.NewItem passing type.capitalize() as a variable to it.
```
const name = game.i18n.format(MYSYSTEM.NewItem, {itemType: type.capitalize()})
```
When you create a new item, the text should be the same, but it will translate if a user has their browser set to a different language.

## Localizing Dataset Labels
